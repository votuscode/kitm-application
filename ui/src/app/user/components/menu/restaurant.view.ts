import {Component} from '@angular/core';
import {BehaviorSubject, forkJoin} from 'rxjs';
import {filter, map, switchMap} from 'rxjs/operators';
import {changeDetection} from '~/change-detection.strategy';
import {RestaurantService} from "@api/api/restaurant.service";
import {MenuService} from "@api/api/menu.service";
import {BookVm} from "~/app/shared/components/book-list/book-list.component";
import {ActivatedRoute} from "@angular/router";
import {RestaurantDto} from "@api/model/restaurantDto";

const GENERIC_MENU = "data:image/jpeg;base64,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"

@Component({
  template: `
    <app-layout [title]="title$ | async">
      <div widget>
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
               (input)="search(searchInput.value)" #searchInput>
      </div>
      <p>{{ description$ | async }}</p>
      <app-book-list [vms]="vm$ | async" [search]="search$ | async"></app-book-list>
    </app-layout>
  `,
  changeDetection,
})
export class RestaurantView {

  readonly restaurant$ = this.activatedRoute.params.pipe(
    switchMap(params => {
      return this.restaurantService.getRestaurant(params.restaurantId)
    })
  )

  readonly title$ = this.restaurant$.pipe(
    filter<RestaurantDto>(Boolean),
    map(restaurantDto => restaurantDto.name)
  )

  readonly description$ = this.restaurant$.pipe(
    filter<RestaurantDto>(Boolean),
    map(restaurantDto => restaurantDto.description)
  )

  readonly search$ = new BehaviorSubject<string>('');

  readonly vm$ = this.restaurant$.pipe(
    switchMap(restaurantDto => {
      return this.menuService.getMenus().pipe(
        map((menus) => {
          return menus.map((menu): BookVm => {
            return {
              name: menu.name,
              description: menu.description || 'No description',
              image: menu.image || GENERIC_MENU,
              context: [menu.name, menu.description].join(''),
              link: `/menus/${menu.id}`,
              ordered: false,
            };
          });
        }),
      )
    }),
  );

  constructor(
    readonly activatedRoute: ActivatedRoute,
    readonly restaurantService: RestaurantService,
    readonly menuService: MenuService
  ) {
  }

  search = (value: string) => {
    this.search$.next(value);
  };
}
