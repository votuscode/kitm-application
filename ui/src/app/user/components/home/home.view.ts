import {Component} from '@angular/core';
import {BehaviorSubject, forkJoin} from 'rxjs';
import {map} from 'rxjs/operators';
import {BookVm} from '~/app/shared/components/book-list/book-list.component';
import {changeDetection} from '~/change-detection.strategy';
import {RestaurantService} from "@api/api/restaurant.service";
import {MenuService} from '@api/api/menu.service';

const GENERIC_RESTAURANT = "data:image/jpeg;base64,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";

@Component({
  template: `
    <app-layout>
      <div widget>
        <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search"
               (input)="search(searchInput.value)" #searchInput>
      </div>
      <app-book-list [vms]="vm$ | async" [search]="search$ | async"></app-book-list>
    </app-layout>
  `,
  changeDetection,
})
export class HomeView {

  readonly search$ = new BehaviorSubject<string>('');

  readonly vm$ = forkJoin([
    this.restaurantService.getRestaurants(),
    this.menuService.getMenus()
  ]).pipe(
    map(([restaurants, menus]) => {
      return restaurants.map((restaurant): BookVm => {
        return {
          name: restaurant.name,
          description: restaurant.description || 'No description',
          image: restaurant.image || GENERIC_RESTAURANT,
          context: [restaurant.name, restaurant.description].join(''),
          link: `/books/${restaurant.id}`,
          ordered: false,
        };
      });
    }),
  );

  constructor(
    readonly restaurantService: RestaurantService,
    readonly menuService: MenuService
  ) {
  }

  search = (value: string) => {
    this.search$.next(value);
  };
}
